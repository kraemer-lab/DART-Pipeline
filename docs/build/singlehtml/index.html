
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>DART Pipeline v0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="toctree-wrapper compound">
</div>
<section id="dart-pipeline">
<h1>DART-Pipeline<a class="headerlink" href="#dart-pipeline" title="Permalink to this headline">¶</a></h1>
<p>Data analysis pipeline for the Dengue Advanced Readiness Tools (DART) project.</p>
<p>The aim of this project is to develop a scalable and reproducible pipeline for the joint analysis of epidemiological, climate, and behavioural data to anticipate and predict dengue outbreaks.</p>
<section id="project-manifest">
<h2>Project Manifest<a class="headerlink" href="#project-manifest" title="Permalink to this headline">¶</a></h2>
<section id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>See <a class="reference external" href="https://unioxfordnexus.sharepoint.com/:x:/r/sites/EngineeringScience-DART/Shared%20Documents/General/DART%20dataset%20summarisation.xlsx?d=w2e772ccb5717440ab47790a6b733a73b&amp;csf=1&amp;web=1&amp;e=Eapex6&amp;nav=MTJfTjNfezAwMDAwMDAwLTAwMDEtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMH0">DART dataset summarisation.xls</a></p></li>
</ul>
</section>
<section id="intermediate">
<h3>Intermediate<a class="headerlink" href="#intermediate" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Raw data that has been downloaded is found in folder “A Collate Data”</p></li>
<li><p>Collated data that has been processed is found in folder “B Process Data”</p></li>
</ol>
</section>
<section id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>TBD</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Located here: <cite>~/DART-Pipeline/docs/build/singlehtml/index.html</cite></p></li>
<li><p>Created using Sphinx</p></li>
<li><p>Generated with:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd ~/DART-Pipeline/docs
$ make singlehtml
</pre></div>
</div>
</section>
</section>
<section id="authors-and-acknowledgments">
<h2>Authors and Acknowledgments<a class="headerlink" href="#authors-and-acknowledgments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>OxRSE</dt><dd><ul>
<li><p>John Brittain</p></li>
<li><p>Rowan Nicholls</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Kraemer Group, Department of Biology</dt><dd><ul>
<li><p>Moritz Kraemer</p></li>
<li><p>Prathyush Sambaturu</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Oxford e-Research Centre, Engineering Science</dt><dd><ul>
<li><p>Sarah Sparrow</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This section details the usage of all scripts, modules and functions in the pipeline.</p>
<section id="a-collate-data">
<h3>A Collate Data<a class="headerlink" href="#a-collate-data" title="Permalink to this headline">¶</a></h3>
<p>The “A Collate Data” folder contains one script - <cite>collate_data.py</cite> - which is documented here:</p>
<section id="module-collate_data">
<span id="collate-data-py"></span><h4>collate_data.py<a class="headerlink" href="#module-collate_data" title="Permalink to this headline">¶</a></h4>
<p>Script to collate raw data by downloading it from online sources.</p>
<p>See <cite>DART dataset summarisation.xls</cite> for information about the data fields
to be collated.</p>
<p>This script has been tested with Python 3.12.</p>
<p>It’s recommended to work inside a Python virtual environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd ~/DART-Pipeline/A\ Collate\ Data/
$ python3 -m venv venv
$ source venv/bin/activate
</pre></div>
</div>
<p>The packages required to run the script can be installed from the
<cite>requirements.txt</cite> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m pip install --upgrade pip
$ python3 -m pip install -r requirements.txt
</pre></div>
</div>
<p>For the record, these package requirements were created with <cite>pipreqs</cite> (you
don’t need to re-run this code):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m pip install pipreqs
$ pipreqs &#39;.&#39; --force
</pre></div>
</div>
<p>Alternatively, the packages can be installed manually from the terminal via
the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m pip install requests
$ python3 -m pip install lxml
$ python3 -m pip install cdsapi
$ python3 -m pip install setuptools
$ python3 -m pip install pandas
$ python3 -m pip install py7zr
$ python3 -m pip install passpy
$ python3 -m pip install setuptools
</pre></div>
</div>
<p>Password management is done with gnupg (aka gnupg2, gpg, gpg2), pass and
passpy. The gnupg and pass are installed via <cite>apt</cite> on Ubuntu or <cite>brew</cite> on
macOS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Ubuntu:
$ sudo apt-get install gnupg2 -y
$ sudo apt install pass
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># macOS:
$ brew install gnupg
$ brew install pass
</pre></div>
</div>
<p>The rest of the password management setup is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m pip install passpy
$ gpg --gen-key
$ gpg --list-keys
$ cd ~/DART-Pipeline
$ export PASSWORD_STORE_DIR=$PWD/.password-store
$ pass init &lt;your GPG public key&gt;
$ passpy insert &quot;name for password&quot;
$ passpy show &quot;name for password&quot;
</pre></div>
</div>
<p>If you are on macOS and see <cite>OSError: Unable to run gpg (gpg2) - it may not be
available</cite> then it might mean you haven’t installed gpg yet or it might mean
that you have but macOS can’t find it. A solution is to use passpy (from within
Python) and to not use gpg (from the Terminal).</p>
<p>Example usage (with approximate run times in brackets):</p>
<ul class="simple">
<li><dl class="simple">
<dt>Meteorological data</dt><dd><ul>
<li><dl class="simple">
<dt>APHRODITE Daily mean temperature product (V1808)</dt><dd><ul>
<li><p><strong>Requires APHRODITE account</strong></p></li>
<li><p><cite>$ python3 collate_data.py –only_one</cite> (6:36.88 min)</p></li>
<li><p><cite>$ python3 collate_data.py –only_one –dry_run</cite> (4.144 sec)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>APHRODITE Daily accumulated precipitation (V1901)</dt><dd><ul>
<li><p><strong>Requires APHRODITE account</strong></p></li>
<li><p><cite>$ python3 collate_data.py -n “APHRODITE Daily accumulated
precipitation (V1901)” –only_one</cite> (35.674 sec)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CHIRPS: Rainfall Estimates from Rain Gauge and Satellite Observations</dt><dd><ul>
<li><p><cite>$ python3 collate_data.py -n “CHIRPS: Rainfall Estimates from Rain
Gauge and Satellite Observations” –only_one</cite> (1:21:59.41 hr)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>TerraClimate gridded temperature, precipitation, and other water balance
variables</p></li>
<li><dl class="simple">
<dt>ERA5 atmospheric reanalysis</dt><dd><ul>
<li><p><strong>Requires Climate Data Store (CDS) API</strong></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Socio-demographic data</dt><dd><ul>
<li><p>WorldPop population density</p></li>
<li><p>WorldPop population count</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Geospatial data</dt><dd><ul>
<li><dl class="simple">
<dt>GADM administrative map</dt><dd><ul>
<li><p><cite>$ python3 collate_data.py -n “GADM administrative map”</cite>
(1:00.087 min)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="collate_data.get_base_directory">
<span class="sig-prename descclassname"><span class="pre">collate_data.</span></span><span class="sig-name descname"><span class="pre">get_base_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#collate_data.get_base_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the base directory for a Git project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em><em> or </em><em>pathlib.Path</em><em>, </em><em>default '.'</em>) – The path to the child directory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path to the parent/grand-parent/etc directory of the child
directory that contains the “.git” folder. If no such directory exists,
returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or pathlib.Path, or None</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="collate_data.get_password">
<span class="sig-prename descclassname"><span class="pre">collate_data.</span></span><span class="sig-name descname"><span class="pre">get_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#collate_data.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a password from a passpy store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_name</strong> (<em>str</em>) – Name of the field that is accessible online but which is
password-protected.</p></li>
<li><p><strong>username</strong> (<em>str</em>) – The username associated with an account that can access the data.</p></li>
<li><p><strong>base_dir</strong> (<em>str</em><em> or </em><em>pathlib.Path</em><em>, </em><em>default '.'</em>) – The base directory of the Git project. It is assumed that the password
store has been created and is located here.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>password</strong> – If successful, the password associated with the entry in the password
store will be returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="collate_data.walk">
<span class="sig-prename descclassname"><span class="pre">collate_data.</span></span><span class="sig-name descname"><span class="pre">walk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_one</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#collate_data.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-create <cite>os.walk</cite> and <cite>Path.walk</cite> for use with a website.</p>
<p>By default, all the files that are encountered by this walk function will
be downloaded into a matching file structure on the local machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_url</strong> (<em>str</em>) – The base URL of the website being accessed.</p></li>
<li><p><strong>relative_url</strong> (<em>str</em>) – The base_url plus the relative_url points to the folder on the server
that will act as the starting point for the walk.</p></li>
<li><p><strong>only_one</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, only one file from each folder on the remote server will be
downloaded (if <cite>dry_run=True</cite> it will not be downloaded but an empty
file will created to represent it). This is to save on time and space
when testing functionality.</p></li>
<li><p><strong>dry_run</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, the data will be downloaded. If False, no data will be
downloaded but, instead, empty files will be created in the output
folder with a naming system matching that of a wet run.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>default '.'</em>) – The folder to which the data will be downloaded.</p></li>
<li><p><strong>username</strong> (<em>str</em><em>, </em><em>default None</em>) – The username associated with an account that can access the data.</p></li>
<li><p><strong>password</strong> (<em>str</em><em>, </em><em>default None</em>) – The password associated with an account that can access the data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="collate_data.download_worldpop_data">
<span class="sig-prename descclassname"><span class="pre">collate_data.</span></span><span class="sig-name descname"><span class="pre">download_worldpop_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#collate_data.download_worldpop_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data from www.worldpop.org.</p>
<p>A summary of all the available data can be downloaded by running
<cite>collate_data.py</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – Path to the folder to where the data will be downloaded.</p></li>
<li><p><strong>alias_1</strong> (<em>str</em>) – The macro data type’s ‘alias’ as used by the World Pop website.</p></li>
<li><p><strong>name_1</strong> (<em>str</em>) – The macro data type’s ‘name’ as used by the World Pop website.</p></li>
<li><p><strong>alias_2</strong> (<em>str</em>) – The mico data type’s ‘alias’ as used by the World Pop website.</p></li>
<li><p><strong>name_2</strong> (<em>str</em>) – The mico data type’s ‘name’ as used by the World Pop website.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="collate_data.download_gadm_data">
<span class="sig-prename descclassname"><span class="pre">collate_data.</span></span><span class="sig-name descname"><span class="pre">download_gadm_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso3</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'VNM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#collate_data.download_gadm_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and unpack data from GADM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_format</strong> (<em>{'Geopackage'</em><em>, </em><em>'Shapefile'</em><em>, </em><em>'GeoJSON'}</em>) – The format of the raw data to be downloaded.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – Folder path to where the files will be downloaded.</p></li>
<li><p><strong>iso3</strong> (<em>str</em><em>, </em><em>default 'VNM'</em>) – Alpha-3 country code as per ISO 3166 for the desired country. See the
Wikipedia pages “<a class="reference external" href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">ISO 3166-1 alpha-3</a>” and
“<a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">List of ISO 3166 country codes</a>”.</p></li>
<li><p><strong>level</strong> (<em>{'level0'</em><em>, </em><em>'level1'</em><em>, </em><em>'level2'</em><em>, </em><em>'level3'</em><em>, </em><em>None}</em><em>, </em><em>default None</em>) – <p>Administrative levels available (depends on the country):</p>
<ul>
<li><p>level 0: country</p></li>
<li><p>level 1: state (province)</p></li>
<li><p>level 2: county (district)</p></li>
<li><p>level 3: commune/ward (and equivalents)</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<hr class="docutils" />
<section id="b-process-data">
<h3>B Process Data<a class="headerlink" href="#b-process-data" title="Permalink to this headline">¶</a></h3>
<p>The “B Process Data” folder contains one script - <cite>process_data.py</cite> - which
processes data that has already been downloaded and collated:</p>
<section id="module-process_data">
<span id="process-data-py"></span><h4>process_data.py<a class="headerlink" href="#module-process_data" title="Permalink to this headline">¶</a></h4>
<p>Script to process raw data that has already been collated.</p>
<p>Pre-requisites:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3.12 -m pip install matplotlib
$ python3.12 -m pip install pandas
$ python3.12 -m pip install shapely
$ python3.12 -m pip install geopandas
$ python3.12 -m pip install rasterio
$ /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
$ brew --version
$ brew install gdal
$ ogr2ogr --version
</pre></div>
</div>
<p>Use <a class="reference external" href="https://epsg.io/9217">EPSG:9217</a> or <a class="reference external" href="https://epsg.io/4326">EPSG:4326</a>
for projections (“EPSG” is the European Petroleum Survey Group).</p>
<p>Use the <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">ISO 3166-1 alpha-3</a> format for country codes.</p>
<p>Example usage (with approximate run times in brackets):</p>
<ul class="simple">
<li><dl class="simple">
<dt>Geospatial data</dt><dd><ul>
<li><dl class="simple">
<dt>GADM administrative map</dt><dd><ul>
<li><p><cite>python3 process_data.py</cite> (1.681 sec)</p></li>
<li><p><cite>python3 process_data.py -a 1</cite> (5.659 sec)</p></li>
<li><p><cite>python3 process_data.py -a 2</cite> (50.393 sec)</p></li>
<li><p><cite>python3 process_data.py -a 3</cite> (8:54.418 min)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Socio-demographic data</dt><dd><ul>
<li><dl class="simple">
<dt>WorldPop population density</dt><dd><ul>
<li><p><cite>python3 process_data.py –data_name “WorldPop population density”</cite>
(2.420 sec)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>WorldPop population count</dt><dd><ul>
<li><p><cite>python3 process_data.py –data_name “WorldPop population count”</cite>
(1:24.587 min)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Geospatial and Socio-Demographic Data</dt><dd><ul>
<li><dl class="simple">
<dt>GADM administrative map and WorldPop population count</dt><dd><ul>
<li><p><cite>python3 process_data.py –data_name “GADM administrative map and
WorldPop population count” –admin_level 0</cite> (10.182 sec)</p></li>
<li><p><cite>python3 process_data.py –data_name “GADM administrative map and
WorldPop population count” –admin_level 1</cite> (1:36.789 min)</p></li>
<li><p><cite>python3 process_data.py –data_name “GADM administrative map and
WorldPop population count” –admin_level 2</cite> (17:21.086 min)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GADM administrative map and WorldPop population density</dt><dd><ul>
<li><p>First run: <cite>python3 process_data.py -n “GADM administrative map and
WorldPop population density”</cite> (31:52.408 min)</p></li>
<li><p>Subsequent: <cite>python3 process_data.py -n “GADM administrative map and
WorldPop population density”</cite> (16.145 sec)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="process_data.get_base_directory">
<span class="sig-prename descclassname"><span class="pre">process_data.</span></span><span class="sig-name descname"><span class="pre">get_base_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#process_data.get_base_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the base directory for a Git project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em><em> or </em><em>pathlib.Path</em><em>, </em><em>default '.'</em>) – The path to the child directory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path to the parent/grand-parent/etc directory of the child
directory that contains the “.git” folder. If no such directory exists,
returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or pathlib.Path, or None</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="process_data.plot_pop_density">
<span class="sig-prename descclassname"><span class="pre">process_data.</span></span><span class="sig-name descname"><span class="pre">plot_pop_density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folderpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#process_data.plot_pop_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the population for a region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – The data to plot.</p></li>
<li><p><strong>folderpath</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – The parent directory for the output plot.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – The filename for the output plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="process_data.pixel_to_latlon">
<span class="sig-prename descclassname"><span class="pre">process_data.</span></span><span class="sig-name descname"><span class="pre">pixel_to_latlon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#process_data.pixel_to_latlon" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert pixel coordinates to latitude and longitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – The x- and y-locations of the pixels to be converted to latitude and
longitude.</p></li>
<li><p><strong>y</strong> (<em>list</em>) – The x- and y-locations of the pixels to be converted to latitude and
longitude.</p></li>
<li><p><strong>transform</strong> (<em>Affine</em>) – Affine transformation matrix as given in the GeoTIFF file.</p></li>
<li><p><strong>crs</strong> (<em>rasterio.crs</em>) – A Rasterio coordinate reference system.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>lat, lon</strong> – The latitude and longitude coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">DART Pipeline</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Rowan Nicholls and Prathyush Sambaturu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>